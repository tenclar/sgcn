<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
     xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>

    
    </h:head>
    <h:body>
         <p:ajaxStatus onstart="statusDialog.show();" onsuccess="statusDialog.hide();" />  

        <p:dialog modal="false" widgetVar="statusDialog"  width="20"     draggable="false" closable="false" >  
            <h:graphicImage value="${request.contextPath}/../images/ajax-loader.gif" />  
        </p:dialog>   

        <h:form prependId="false" id="frmBuscaBen" >         
            <p:focus for="cbBusca" />       
            <h:selectOneRadio value="#{beneficiadoBean.tipoBusca}"  >
                <f:selectItem itemValue="nome"  itemLabel="nome"   />
                <f:selectItem itemValue="cpf"  itemLabel="CPF" />                
            </h:selectOneRadio>
            
            <h:outputText value="Busca: " />  
            <p:inputText id="cbBusca" label="Campo Busca" autocomplete="off"  value="#{beneficiadoBean.campoPesquisa}"  size="100" onkeyup="this.value = this.value.toUpperCase();"  required="true"  /> 
            <p:commandButton    actionListener="#{beneficiadoBean.localizaCol}"  update="frmBuscaBen, cptabela, messages" icon="ui-icon-search"   /> 
            <p:separator  />
            <p:commandButton  value="Novo" process="@this"  actionListener="#{beneficiadoBean.novoBeneficiado}" oncomplete="cadBenInd.show();litBenInd.close();"  update="frmBenNew"   />                  
       <br />
            <br />
            <p:outputPanel id="cptabela" >
                <p:dataTable  var="item" value="#{beneficiadoBean.lista}"  paginator="true"  
                              paginatorAlwaysVisible="false" rows="8"   selectionMode="single" 
                rowStyleClass="#{empty rowIx or rowIx mod 2 ne 0 ? 'even-row' : 'odd-row'}" rowIndexVar="rowIx" >
                     <p:column headerText="id" >                    
                        <h:outputText value="#{item.id}" />
                    </p:column>
                    <p:column headerText="CPF" >                    
                        <h:outputText value="#{item.cpf}" />
                    </p:column>
                    <p:column headerText="Nome:" style="width: 450px"  >

                        <h:outputText value="#{item.nome}"/>
                    </p:column>                       

                    <p:column  headerText="Indígena" >                    
                        <h:outputText value="#{item.etinia}"/>
                    </p:column>                                     

                    <p:column  headerText="Telefone" >                    
                        <h:outputText value="Residencial: #{item.residencial}" /> <br/>
                        <h:outputText value="Celular: #{item.celular}"/>
                    </p:column>  
                    <p:column  headerText="ações" style=" text-align: center; width: 210px" >     

                        <p:commandButton icon="ui-icon-refresh"  value="editar" process="@this"  title="editar" oncomplete="cadBenInd.show();litBenInd.close();" update="frmBen frmBuscaBen" actionListener="#{beneficiadoBean.editBen}"  >
                           
                        </p:commandButton>                                                                         
<!--                        <p:commandButton icon="ui-icon-print" value="imprimir" process="@this" onclick="this.form.target='_blank'" ajax="false" immediate="true" action="# {cidadaoBean.imprimir}" title="imprimir" />-->
                       
                    </p:column>

                </p:dataTable>
            </p:outputPanel>
        </h:form>
    </h:body>
</html>

